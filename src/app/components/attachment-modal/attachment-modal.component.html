<div
    class="modal fade"
    id="viewAttachmentsModal-{{ id }}"
    tabindex="-1"
    role="dialog"
    aria-labelledby="viewAttachmentsLabel"
    aria-hidden="true"
>
    <div class="modal-dialog modal-full modal-dialog-centered" role="document">
        <div class="modal-content">
            <div class="modal-header">
                <h5 class="modal-title" id="viewAttachmentsLabel" hidden>
                    Modal title
                </h5>
                <button
                    type="button"
                    class="close"
                    data-dismiss="modal"
                    aria-label="Close"
                >
                    <span aria-hidden="true">&times;</span>
                </button>
            </div>
            <div class="modal-body">
                <div
                    class="container-fluid"
                    *ngIf="attachments && attachments.length > 0"
                >
                    <div class="row attachment-container">
                        <!-- The image in focus -->
                        <!-- TODO: Center the image and fix size -->
                        <div class="col text-center">
                            <img
                                src="{{
                                    filesService.fileAccessUrl +
                                        attachments[indexInFocus].fileEndpoint
                                }}"
                                class="img-fluid"
                                alt="{{ attachments[indexInFocus].key }}"
                            />
                        </div>
                    </div>

                    <div class="row status">
                        <div class="col text-center ">
                            {{ indexInFocus + 1 }}/{{ attachments.length }}
                        </div>
                    </div>

                    <div class="row thumbnail-container">
                        <!-- Grid of thumbnails -->
                        <!-- TODO: Highlight currently selected thumbnail -->
                        <!-- TODO: Fix row to bottom -->
                        <div
                            class="m-2"
                            *ngFor="let img of attachments; let i = index"
                        >
                            <a
                                (click)="indexInFocus = i"
                                [ngClass]="{ active: indexInFocus === i }"
                            >
                                <img
                                    src="{{
                                        filesService.fileAccessUrl +
                                            img.fileEndpoint
                                    }}"
                                    class="thumb-img"
                                    alt="{{ img.key }}"
                                />
                            </a>
                        </div>
                    </div>
                </div>
            </div>
        </div>
    </div>
</div>
